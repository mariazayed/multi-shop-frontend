<app-breadcrumb [breadcrumb]="'Checkout'" [title]="'Checkout'"></app-breadcrumb>
<section class="section-b-space">
	<div class="container padding-cls">
		<div class="checkout-page">
			<div class="checkout-form">
				<form>
					<div class="row">
						<div class="col-lg-6 col-sm-12 col-xs-12">
							<div class="checkout-title">
								<h3>Billing Details</h3>
							</div>
							<div class="row check-out">
								<div class="form-group col-md-6 col-sm-6 col-xs-12">
									<div class="field-label">First Name</div>
									<input [formControl]="checkoutForm.controls['firstname']" autocomplete="off"
									       name="firstname" placeholder="" type="text"
									       value="">
									<div *ngIf="checkoutForm.controls.firstname.touched && checkoutForm.controls.firstname.errors?.required"
									     class="text text-danger">
										First Name is required.
									</div>
									<div *ngIf="checkoutForm.controls.firstname.touched && checkoutForm.controls.firstname.errors?.pattern"
									     class="text text-danger">
										First Name must be an alphabates.
									</div>
								</div>
								<div class="form-group col-md-6 col-sm-6 col-xs-12">
									<div class="field-label">Last Name</div>
									<input [formControl]="checkoutForm.controls['lastname']" autocomplete="off" name="lastname"
									       placeholder="" type="text" value="">
									<div *ngIf="checkoutForm.controls.lastname.touched && checkoutForm.controls.lastname.errors?.required"
									     class="text text-danger">
										Last Name is required.
									</div>
									<div *ngIf="checkoutForm.controls.lastname.touched && checkoutForm.controls.lastname.errors?.pattern"
									     class="text text-danger">
										Last Name must be an alphabates.
									</div>
								</div>
								<div class="form-group col-md-6 col-sm-6 col-xs-12">
									<div class="field-label">Phone</div>
									<input [formControl]="checkoutForm.controls['phone']" autocomplete="off" name="phone"
									       placeholder="" type="text" value="">
									<div *ngIf="checkoutForm.controls.phone.touched && checkoutForm.controls.phone.errors?.required"
									     class="text text-danger">
										Phone No is required.
									</div>
									<div *ngIf="checkoutForm.controls.phone.touched && checkoutForm.controls.phone.errors?.pattern"
									     class="text text-danger">
										Phone No is must be number.
									</div>
								</div>
								<div class="form-group col-md-6 col-sm-6 col-xs-12">
									<div class="field-label">Email Address</div>
									<input [formControl]="checkoutForm.controls['email']" autocomplete="off" name="email"
									       placeholder="" type="text" value="">
									<div *ngIf="checkoutForm.controls.email.touched && checkoutForm.controls.email.errors?.required"
									     class="text text-danger">
										Email is required
									</div>
									<div *ngIf="checkoutForm.controls.email.touched && checkoutForm.controls.email.errors?.email"
									     class="text text-danger">
										Invalid Email
									</div>
								</div>
								<div class="form-group col-md-12 col-sm-12 col-xs-12">
									<div class="field-label">Country</div>
									<select [formControl]="checkoutForm.controls['country']" name="country">
										<option selected value="">Select Country</option>
										<option value="Palestine">Palestine</option>
										<option value="USA">USA</option>
										<option value="Australia">Australia</option>
									</select>
									<div *ngIf="checkoutForm.controls.country.touched && checkoutForm.controls.country.errors?.required"
									     class="text text-danger">
										Country is required
									</div>
								</div>
								<div class="form-group col-md-12 col-sm-12 col-xs-12">
									<div class="field-label">Address</div>
									<input [formControl]="checkoutForm.controls['address']" autocomplete="off" name="address"
									       placeholder="" type="text" value="">
									<div *ngIf="checkoutForm.controls.address.touched && checkoutForm.controls.address.errors?.required"
									     class="text text-danger">
										Address is required
									</div>
									<div *ngIf="checkoutForm.controls.address.touched && checkoutForm.controls.address.errors?.maxlength"
									     class="text text-danger">
										Maximum 50 character
									</div>
								</div>
								<div class="form-group col-md-12 col-sm-12 col-xs-12">
									<div class="field-label">Town/City</div>
									<input [formControl]="checkoutForm.controls['town']" autocomplete="off" name="town"
									       placeholder="" type="text" value="">
									<div *ngIf="checkoutForm.controls.town.touched && checkoutForm.controls.town.errors?.required"
									     class="text text-danger">
										City is required
									</div>
								</div>
								<div class="form-group col-md-12 col-sm-6 col-xs-12">
									<div class="field-label">State</div>
									<input [formControl]="checkoutForm.controls['state']" autocomplete="off" name="state"
									       placeholder="" type="text" value="">
									<div *ngIf="checkoutForm.controls.state.touched && checkoutForm.controls.state.errors?.required"
									     class="text text-danger">
										State is required
									</div>
								</div>
								<div class="form-group col-md-12 col-sm-6 col-xs-12">
									<div class="field-label">Postal Code</div>
									<input [formControl]="checkoutForm.controls['postalcode']" autocomplete="off"
									       name="postalcode" placeholder="" type="text"
									       value="">
									<div *ngIf="checkoutForm.controls.postalcode.touched && checkoutForm.controls.postalcode.errors?.required"
									     class="text text-danger">
										Postalcode is required
									</div>
								</div>
							</div>
							<div class="row ">
								<div class="col-12">
									<div class="stripe-section">
										<h5>stripe js</h5>
										<div class="content">
											<h5>dummy test</h5>
											<table>
												<tr>
													<td>cart number</td>
													<td>4242424242424242</td>
												</tr>
												<tr>
													<td>mm/yy</td>
													<td>2/2021</td>
												</tr>
												<tr>
													<td>cvc</td>
													<td>2222</td>
												</tr>
											</table>
										</div>
									</div>
								</div>
							</div>
							<div class="row margin-cls">
								<div class="col-12">
									<div class="stripe-section">
										<h5>paypal</h5>
										<div class="content">
											<h5>dummy test</h5>
											<table>
												<tr>
													<td>cart number</td>
													<td>4152521541244</td>
												</tr>
												<tr>
													<td>mm/yy</td>
													<td>11/18</td>
												</tr>
												<tr>
													<td>cvc</td>
													<td>521</td>
												</tr>
											</table>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="col-lg-6 col-sm-12 col-xs-12">
							<div class="checkout-details">
								<div class="order-box">
									<div class="title-box">
										<div>Product
											<span> Total</span>
										</div>
									</div>
									<ul *ngIf="products.length" class="qty">
										<li *ngFor="let product of products">
											{{ product.title }} Ã— {{ product.quantity }}
											<span>
												{{ (product.price | discount:product)
												   * productService?.Currency.price | currency:productService?.Currency.currency:'symbol' }}
											</span>
										</li>
									</ul>
									<ul *ngIf="!products.length" class="qty">
										<li class="empty-checkout"> There are no products in cart</li>
									</ul>
									<ul class="sub-total">
										<li>
											Subtotal
											<span class="count">{{ getTotal | async | currency:productService?.Currency.currency:'symbol'}}</span>
										</li>
										<li *ngIf="products.length">
											Shipping
											<div class="shipping">
												<div class="shopping-option">
													<input checked="checked" id="free-shipping" name="shipping"
													       type="radio">
													<label for="free-shipping">Shipping</label>
												</div>
												<div class="shopping-option">
													<input id="local-pickup" name="shipping" type="radio">
													<label for="local-pickup">Local Pickup</label>
												</div>
											</div>
										</li>
									</ul>
									<ul class="total">
										<li>Total
											<span class="count">{{ getTotal | async | currency:productService?.Currency.currency:'symbol'}}</span>
										</li>
									</ul>
								</div>

								<div *ngIf="products.length" class="payment-box">
									<div class="upper-box">
										<div class="payment-options">
											<ul>
												<li>
													<div class="radio-option">
														<input [(ngModel)]="payment" [value]="'Stripe'" id="payment-2"
														       name="payment-group" type="radio">
														<label for="payment-2">Stripe
															<span class="small-text">Please send a check to Store Name,
															                         Store Street, Store Town, Store
															                         State / County, Store Postcode.
															</span>
														</label>
													</div>
												</li>
												<li>
													<div class="radio-option paypal">
														<input [(ngModel)]="payment" [value]="'Paypal'" id="payment-3"
														       name="payment-group" type="radio">
														<label for="payment-3">PayPal
															<span class="image">
																<img alt="" src="assets/images/paypal.png"/>
															</span>
														</label>
													</div>
												</li>
											</ul>
										</div>
									</div>
									<div class="text-right">
										<button (click)="stripeCheckout()" *ngIf="payment == 'Stripe'" [disabled]="!checkoutForm.valid"
										        class="btn-solid btn" type="submit">
											Place Order
										</button>
										<ngx-paypal *ngIf="payment == 'Paypal'" [config]="payPalConfig"></ngx-paypal>
									</div>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</section>
